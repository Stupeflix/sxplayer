name: 'Dependencies build Windows'
on:
  schedule:
  - cron: "0 0 1 * *"
  push:
    branches:
      - 'master'
  pull_request:

jobs:
  dependencies:

    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v2

    - name: Build dependencies
      shell: bash
      run: |
        git clone --depth 1 https://github.com/Microsoft/vcpkg
        cd vcpkg
        ./bootstrap-vcpkg.bat -disableMetrics
        vcpkg install pthread:x64-windows ffmpeg:x64-windows

    - name: Upload dependencies
      uses: actions/upload-artifact@v2
      with:
        name: vcpkg
        path: D:\a\sxplayer\sxplayer\vcpkg
